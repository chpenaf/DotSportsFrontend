<div fxLayout="row">
  <button mat-icon-button
          (click)="back()">
    <mat-icon>
      arrow_back
    </mat-icon>
  </button>
  <h1>Perfil</h1>
</div>
<mat-divider></mat-divider>

<div class="content" fxLayout="column">

  <div fxLayout="row wrap"
       fxLayout.lt-md="column"
       fxLayoutAlign="center center">

    <div fxLayout="column" class="mt-10">
      <img class="avatar" *ngIf="!imgTmp && !myInfo.user.avatar" src="/assets/img/no-user-image-icon-23.jpg" />
      <img class="avatar" *ngIf="myInfo.user?.avatar && !imgTmp" [src]="myInfo.user | avatar" />
      <img class="avatar" *ngIf="imgTmp" [src]="imgTmp" />
      <br>
      <button mat-stroked-button
              color="primary"
              (click)="browseImage()">
        Cambiar Imagen
      </button>
      <input id="fileControlInput"
             type="file"
             #fileInput
             (change)="onFileChange($event)"
             name="fileControlInput">
    </div>

  </div>

  <div fxLayout="row wrap"
       fxLayout.lt-md="column"
       fxLayoutAlign.gt-md="center center"
       fxLayoutGap="10px"
       class="mt-10"
       [formGroup]="profileForm">

    <mat-form-field appearance="fill" fxFlex="40">
      <mat-label>N° Socio</mat-label>
      <input matInput formControlName="id">
    </mat-form-field>

    <mat-form-field appearance="fill" fxFlex="40">
      <mat-label>N° Documento</mat-label>
      <input matInput formControlName="doc_num">
    </mat-form-field>

    <mat-form-field appearance="fill" fxFlex="40">
      <mat-label>Nombres</mat-label>
      <input matInput formControlName="first_name">
      <mat-error *ngIf="first_name.hasError">
        Campo obligatorio
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" fxFlex="40">
      <mat-label>Apellido</mat-label>
      <input matInput formControlName="last_name">
      <mat-error *ngIf="last_name.hasError">
        Campo obligatorio
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" fxFlex="40">
      <mat-label>Correo Electrónico</mat-label>
      <input matInput formControlName="email">
      <mat-error *ngIf="email.hasError">
        Campo obligatorio
      </mat-error>
    </mat-form-field>

  </div>


  <div fxLayout="row wrap" fxLayout.lt-md="column">
    <span fxFlex="70"></span>
    <button mat-flat-button
            color="primary"
            fxFlex="20"
            (click)="save()">
      Guardar
    </button>
    <span fxFlex="10"></span>
  </div>

</div>
